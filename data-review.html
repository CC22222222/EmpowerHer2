<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EmpowerHer - Review Your Information</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Poppins:wght@300;400;500;600&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Â∞éËà™Ê¨Ñ -->
    <header>
        <nav class="navbar">
            <a href="index.html" class="logo">EmpowerHer</a>
            <ul class="nav-links">
                <li><a href="index.html#research">Research</a></li>
                <li><a href="index.html#stories">Stories</a></li>
                <li><a href="index.html#resources">Resources</a></li>
                <li><a href="index.html#join">Join Us</a></li>
            </ul>
        </nav>
    </header>

    <main class="review-page">
        <div class="review-container">
            <h1>Review Your Information</h1>
            <p class="review-subtitle">Please verify your information and add any additional details</p>

            <div class="review-sections">
                <!-- ÂÄã‰∫∫Ë≥áÊñôÈÉ®ÂàÜ -->
                <div class="review-section">
                    <div class="section-header">
                        <h2>Personal Information</h2>
                        <button class="edit-btn" data-section="personal">Edit</button>
                    </div>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>English Name:</label>
                            <span id="review-eng-name"></span>
                        </div>
                        <div class="info-item">
                            <label>Chinese Name:</label>
                            <span id="review-chi-name"></span>
                        </div>
                        <div class="info-item">
                            <label>Email:</label>
                            <span id="review-email"></span>
                        </div>
                        <div class="info-item">
                            <label>Phone:</label>
                            <span id="review-phone"></span>
                        </div>
                    </div>
                </div>

                <!-- Â∞àÊ•≠ËÉåÊôØÈÉ®ÂàÜ -->
                <div class="review-section">
                    <div class="section-header">
                        <h2>Professional Background</h2>
                        <button class="edit-btn" data-section="professional">Edit</button>
                    </div>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>Experience:</label>
                            <span id="review-experience"></span>
                        </div>
                        <div class="info-item">
                            <label>Work Type:</label>
                            <span id="review-worktype"></span>
                        </div>
                        <div class="info-item">
                            <label>Work Location:</label>
                            <span id="review-location"></span>
                        </div>
                        <div class="info-item">
                            <label>Expected Salary:</label>
                            <span id="review-salary"></span>
                        </div>
                    </div>
                </div>

                <!-- È°çÂ§ñË≥áÊñôÈÉ®ÂàÜ -->
                <div class="review-section">
                    <div class="section-header">
                        <h2>Additional Information</h2>
                    </div>
                    <div class="additional-info">
                        <!-- ÁÖßÁâá‰∏äÂÇ≥ -->
                        <div class="upload-section">
                            <label>Profile Photo</label>
                            <div class="photo-upload">
                                <img id="preview-photo" src="placeholder-avatar.png" alt="Profile photo">
                                <input type="file" id="photo-input" accept="image/*">
                                <button class="upload-btn">Upload Photo</button>
                            </div>
                        </div>

                        <!-- Á∞°Ê≠∑‰∏äÂÇ≥ -->
                        <div class="upload-section">
                            <label>Resume/CV</label>
                            <div class="file-upload">
                                <input type="file" id="resume-input" accept=".pdf,.doc,.docx">
                                <button class="upload-btn">Upload Resume</button>
                            </div>
                            <span class="file-name" id="resume-name"></span>
                        </div>

                        <!-- Ëá™Êàë‰ªãÁ¥π -->
                        <div class="form-group bio-section">
                            <div class="bio-input">
                                <label for="bio">Brief Introduction <span class="word-limit">(50-200 words)</span></label>
                                <textarea id="bio" rows="6" placeholder="Tell us about yourself..."
                                          data-min="50" data-max="200"></textarea>
                                <div class="word-count">
                                    <span id="current-words">0</span>/<span id="max-words">200</span> words
                                </div>
                            </div>
                            
                            <div class="smart-tips">
                                <div class="tips-header">
                                    <span class="tips-icon">üí°</span>
                                    <h3>Smart Tips</h3>
                                </div>
                                <div class="tips-content">
                                    <p>A good introduction helps companies understand you better:</p>
                                    <ul>
                                        <li>Use 50-200 words for a concise description</li>
                                        <li>Highlight your career objectives</li>
                                        <li>Mention your key skills and strengths</li>
                                        <li>Share your professional passion</li>
                                    </ul>
                                    <div class="ai-helper">
                                        <button class="ai-suggest-btn" id="aiSuggestBtn">
                                            <span class="ai-icon">ü§ñ</span>
                                            Get AI Writing Suggestions
                                        </button>
                                        <div class="ai-suggestions" id="aiSuggestions"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="review-actions">
                <button class="back-btn" onclick="history.back()">Back to Edit</button>
                <button class="submit-btn">Complete Profile</button>
            </div>
        </div>
    </main>

    <footer>
        <!-- ‰øùÊåÅËàáÂÖ∂‰ªñÈ†ÅÈù¢Áõ∏ÂêåÁöÑÈ†ÅÂ∞æ -->
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Âæû localStorage Áç≤Âèñ‰πãÂâçÂ°´ÂØ´ÁöÑÊï∏Êìö
            const formData = JSON.parse(localStorage.getItem('formData'));
            if (formData) {
                document.getElementById('review-eng-name').textContent = formData.engName;
                document.getElementById('review-chi-name').textContent = formData.chiName || 'Not provided';
                document.getElementById('review-email').textContent = formData.email;
                document.getElementById('review-phone').textContent = '+852 ' + formData.phone;
                document.getElementById('review-experience').textContent = formData.experience;
                document.getElementById('review-worktype').textContent = formData.workType.join(', ');
                document.getElementById('review-location').textContent = formData.workLocation;
                document.getElementById('review-salary').textContent = formData.salary;
            }

            // ÁÖßÁâá‰∏äÂÇ≥ËôïÁêÜ
            const photoInput = document.getElementById('photo-input');
            const uploadPhotoBtn = photoInput.nextElementSibling;
            const previewPhoto = document.getElementById('preview-photo');
            
            uploadPhotoBtn.addEventListener('click', function(e) {
                e.preventDefault();
                if (photoInput.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const photoData = e.target.result;
                        previewPhoto.src = photoData;
                        // ‰øùÂ≠òÁÖßÁâáÊï∏ÊìöÂà∞ localStorage
                        localStorage.setItem('userPhoto', photoData);
                        alert('Photo uploaded successfully!');
                    }
                    reader.readAsDataURL(photoInput.files[0]);
                }
            });

            // Á∞°Ê≠∑Ê™îÊ°àÂêçÁ®±È°ØÁ§∫
            document.getElementById('resume-input').addEventListener('change', function(e) {
                const fileName = e.target.files[0]?.name;
                document.getElementById('resume-name').textContent = fileName || '';
            });

            // ÂÆåÊàêÊ™îÊ°àÊåâÈàïËôïÁêÜ
            document.querySelector('.submit-btn').addEventListener('click', function(e) {
                e.preventDefault();
                
                // Êî∂ÈõÜÈ°çÂ§ñË≥áÊñô
                const additionalData = {
                    bio: document.getElementById('bio').value,
                    photoUrl: localStorage.getItem('userPhoto'),
                    resumeName: document.getElementById('resume-name').textContent
                };

                // Âêà‰ΩµÊâÄÊúâÊï∏Êìö
                const formData = JSON.parse(localStorage.getItem('formData') || '{}');
                const completeProfile = {
                    ...formData,
                    ...additionalData
                };

                // ‰øùÂ≠òÂÆåÊï¥Êï∏Êìö
                localStorage.setItem('completeProfile', JSON.stringify(completeProfile));

                // Ë∑≥ËΩâÂà∞ÂÄã‰∫∫Ê™îÊ°àÈ†ÅÈù¢
                window.location.href = './user-profile.html';
            });
        });

        // Á∑®ËºØÊåâÈàïËôïÁêÜ
        document.querySelectorAll('.edit-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const section = this.dataset.section;
                // ÂèØ‰ª•Ë∑≥ÂõûË°®ÂñÆ‰∏¶ÂÆö‰ΩçÂà∞Áõ∏ÊáâÈÉ®ÂàÜ
                window.location.href = 'job-seeker-signup.html#' + section;
            });
        });
    </script>
</body>
</html> 